(this.webpackJsonpturnipwatch=this.webpackJsonpturnipwatch||[]).push([[0],{41:function(n,e){n.exports="data:image/png;base64,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"},51:function(n,e,t){n.exports=t(66)},60:function(n,e,t){},64:function(n,e,t){},66:function(n,e,t){"use strict";t.r(e);var r,a=t(0),i=t.n(a),c=t(24),o=t.n(c),u=t(10),l=t(11),d=t(48),s=t(39),p=t(12),f=t.n(p),v=t(40),m=t.n(v),b=t(6),h=t(7),w=t(20),A=t(41),E=t.n(A),g=(t(60),t(16));!function(n){n.Random="random",n.Decreasing="decreasing",n.SmallSpike="smallSpike",n.CamelHump="camel",n.InsufficientData="insufficientData",n.Unknown="unknown"}(r||(r={}));var y=t(47),j=t(14),O=t(15),C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=C.slice(1);function x(n,e){return"".concat(n,"-").concat(e)}function Y(n){return x(n.isoWeekYear(),n.isoWeek())}var I={type:"number",validate:function(n){return!Number.isNaN(Number(n))}},M=new(function(){function n(e){Object(j.a)(this,n),this.type=void 0,this.validators=void 0,this.validators=e,this.type=e.map((function(n){return n.type})).join(" | ")}return Object(O.a)(n,[{key:"validate",value:function(n){return void 0!==this.validators.find((function(e){return e.validate(n)}))}}]),n}())([{type:null,validate:function(n){return null===n}},I]),B={buyPrice:null,prices:new Array(2*k.length)},G=function(){function n(e){Object(j.a)(this,n),this.week=void 0,this.year=void 0,this.record=void 0,this.week=e.week,this.year=e.year,this.record=new W(e.record)}return Object(O.a)(n,null,[{key:"sanitize",value:function(e){if(!I.validate(e.year))throw new TypeError("year is not a number");if(!I.validate(e.week))throw new TypeError("week is not a number");return new n(Object(g.a)({},e,{record:W.sanitize(e.record)}))}}]),n}(),W=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;Object(j.a)(this,n),this.buyPrice=void 0,this.prices=void 0,this.buyPrice=e.buyPrice,this.prices=Object(y.a)(e.prices)}return Object(O.a)(n,null,[{key:"sanitize",value:function(e){var t;if(!M.validate(e.buyPrice))throw new TypeError("buyPrice is not a number");var r=(null!==(t=e.prices)&&void 0!==t?t:[]).map((function(n){if(!M.validate(n))throw new TypeError("Invalid price: ".concat(n));return n}));return new n(Object(g.a)({},e,{prices:r}))}}]),n}();function F(n){return void 0===function(n){var e=n.slice(1).find((function(e,t){return n[t]<=e}));if(void 0!==e)return e+1;return}(n)?1:0}function P(n){switch(n){case r.Decreasing:return"You should sell. Prices are unlikely to rise.";default:return"We have no idea what's going on."}}var D=function(){var n,e,t=Y(f()()),a=function(n){var e=F(n.filter((function(n){return null!==n})))?r.Decreasing:r.Unknown;return{pattern:e,recommendation:P(e)}}(null!==(n=null===(e=Object(u.c)((function(n){return n.weeklyPrices.prices}))[t])||void 0===e?void 0:e.record.prices)&&void 0!==n?n:[]);return i.a.createElement("div",null,a.recommendation)},T=t(21),q=t.n(T),S=t(30),R=t(50);var z=function(n){return function(e){var t=e.input,r=(e.meta,Object(R.a)(e,["input","meta"]));return void 0!==n?i.a.createElement(n,Object.assign({},t,r,{type:"number"})):i.a.createElement("input",Object.assign({},t,r,{type:"number"}))}};function X(){var n=Object(b.a)(["\ndisplay: grid;\ngrid-gap: 10px;\npadding: 10px;\nmargin: auto;\njustify-items: center;\nalign-items: center;\n\n",", "," {\n  width: calc(100% - 20px);\n  padding: 10px;\n  text-align: center;\n}\n\n",' {\n  text-align: center;\n}\n\n@media only screen and (min-width: 800px) {\n  max-width: 600px;\n  grid-template-columns: 50px repeat(6, 1fr);\n  grid-template-rows: 1fr 50px repeat(4, 1fr);\n  grid-template-areas:\n    ".  .   .   bl  bl  .   ."\t\n    ".  .   .   bp  bp  .   ."\t\n    ".  d0  d1  d2  d3  d4  d5"\n    "am d0a d1a d2a d3a d4a d5a"\n    "pm d0p d1p d2p d3p d4p d5p"\n    ".  .   .   .   .   .   s";\n\n  ',' {\n    width: calc(60% - 20px);\n    align-self: start;\n  }\n}\n\n@media only screen and (max-width: 799px) {\n  max-width: 350px;\n  grid-template-columns: 24% repeat(4, 1fr);\n  padding-left: 10px;\n  padding-right: 40px;\n\n  grid-template-rows: auto;\n  grid-template-areas:\n    "bl bl bp  bp bp"\n    ".  am am  pm pm"\n    "d0 d0a d0a d0p d0p"\n    "d1 d1a d1a d1p d1p"\n    "d2 d2a d2a d2p d2p"\n    "d3 d3a d3a d3p d3p"\n    "d4 d4a d4a d4p d4p"\n    "d5 d5a d5a d5p d5p"\n    ".  .   s   s   s";\n  \n  ',", "," {\n    text-align: right;\n    place-self: center end;\n    padding-right: 10px;\n  }\n\n  "," {\n    place-self: center;\n  }\n\n  ",", "," {\n    margin-bottom: 20px;\n  }\n}\n"]);return X=function(){return n},n}function V(){var n=Object(b.a)(["\ngrid-area: bp;\n"]);return V=function(){return n},n}function N(){var n=Object(b.a)(["\ngrid-area: bl;\n"]);return N=function(){return n},n}function L(){var n=Object(b.a)(["\ngrid-area: ",";\n"]);return L=function(){return n},n}function K(){var n=Object(b.a)(["\ngrid-area: ",";\n"]);return K=function(){return n},n}function H(){var n=Object(b.a)(["\ntext-transform: uppercase;\ngrid-area: ",";\n"]);return H=function(){return n},n}function J(){var n=Object(b.a)(["\ngrid-area: s;\n\nalign-self: end;\njustify-self: end;\ntransform: translate(25px, 10px);\n\n"]);return J=function(){return n},n}var U,Q=h.a.button(J());!function(n){n.am="am",n.pm="pm"}(U||(U={}));var Z=h.a.div(H(),(function(n){return"".concat(n.time)})),_=h.a.div(K(),(function(n){return"d".concat(n.index)})),$=h.a.input(L(),(function(n){var e=n.index,t=Math.floor(e/2),r=e%2===0?"a":"p";return"d".concat(t).concat(r)})),nn=h.a.label(N()),en=h.a.input(V()),tn=h.a.form(X(),$,en,nn,en,_,nn,nn,nn,en);var rn=[U.am,U.pm],an=C.slice(1),cn=an.map((function(n){return"".concat(n," AM")})),on=an.map((function(n){return"".concat(n," PM")})),un=q.a.chain(cn).zip(on).flatten().filter((function(n){return void 0!==n})).value(),ln=z(en),dn=z($),sn=function(n){return i.a.createElement(S.b,{onSubmit:function(e){return n.onSubmit(function(n){var e,t=Object.assign({},n),r=null!==n.buyPrice&&null!==(e=parseInt(n.buyPrice,10))&&void 0!==e?e:null,a=q.a.chain(t).pickBy((function(n,e){return e.startsWith("price-")})).mapKeys((function(n,e){return parseInt(e.slice("price-".length),10)})).pickBy((function(n){return void 0!==n})).mapValues((function(n){return null!==n?parseInt(n,10):null})).value();return{buyPrice:r,prices:Array.from(new Array(2*an.length)).map((function(n,e){return a[e]}))}}(e))},render:function(e){var t,r=e.handleSubmit;return i.a.createElement(tn,{onSubmit:r},i.a.createElement(nn,{htmlFor:"buyPrice"},"Buy Price"),i.a.createElement(S.a,{name:"buyPrice",initialValue:null!==(t=n.priceRecord.buyPrice)&&void 0!==t?t:void 0,component:ln}),rn.map((function(n){return i.a.createElement(Z,{key:n,time:n},n)})),an.map((function(n,e){return i.a.createElement(_,{key:e,index:e},n.slice(0,3))})),un.map((function(e,t){return i.a.createElement(S.a,{name:"price-".concat(t),component:dn,key:t,index:t,"aria-label":e,initialValue:n.priceRecord.prices[t]})})),i.a.createElement(Q,{type:"submit"},"Submit"))}})},pn=t(27),fn=t(28),vn=t(45),mn=t.n(vn);function bn(){var n=Object(b.a)(["\ndisplay: relative;\nbackground: #F7F0DE;\npadding: 20px;\nmargin: 40px;\nborder-radius: 20px;\n"]);return bn=function(){return n},n}var hn=h.a.div(bn()),wn={width:800,height:200},An=function(n){Object(fn.a)(t,n);var e=Object(pn.a)(t);function t(n){var r;return Object(j.a)(this,t),(r=e.call(this,n)).canvas=void 0,r.chart=void 0,r.canvas=i.a.createRef(),r.chart=void 0,r}return Object(O.a)(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){this.renderChart()}},{key:"renderChart",value:function(){var n,e,t=this,r=null!==(n=null===(e=this.canvas.current)||void 0===e?void 0:e.getContext("2d"))&&void 0!==n?n:null;if(null!==r){var a=this.props.dataset.map((function(n){return n.x})),i=this.props.dataset;this.chart=new mn.a(r,{type:"bar",data:{labels:a,datasets:[{label:this.props.label,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:i}]},options:{legend:{display:!1},scales:{xAxes:[{ticks:{callback:function(n){return t.props.convertLabel(n)}}}],yAxes:[{ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{title:function(n){var e,r=null===(e=n[0])||void 0===e?void 0:e.index;return void 0===r?"":t.props.convertLabel(r)}}}}})}}},{key:"render",value:function(){return i.a.createElement(hn,null,i.a.createElement("canvas",Object.assign({ref:this.canvas},wn)))}}]),t}(i.a.Component);function En(n){var e=k[Math.floor(n/2)],t=n%2===0?"AM":"PM";return"".concat(e," ").concat(t)}var gn={min:0,max:14};var yn,jn=function(n){return i.a.createElement("div",null,i.a.createElement(An,{label:"Price",domain:gn,convertLabel:En,dataset:(e=n.priceRecord.prices,e.map((function(n,e){return{x:e,y:n}})).filter((function(n){return null!==n})))}));var e};!function(n){n.SAVE_WEEKLY_PRICES="SaveWeeklyPrices",n.LOAD_WEEKLY_PRICES="LoadWeeklyPrices"}(yn||(yn={}));function On(){var n=Object(b.a)(["\npadding: 20px 0 50px 0;\n"]);return On=function(){return n},n}var Cn=h.a.section(On());var kn=function(n){var e,t,r=Object(u.b)(),a=Y(f()()),c=null!==(e=null===(t=Object(u.c)((function(n){return n.weeklyPrices.prices}))[a])||void 0===t?void 0:t.record)&&void 0!==e?e:B;return i.a.createElement(Cn,null,i.a.createElement(sn,{onSubmit:function(n){var e,t,a=Object(g.a)({},{year:(e=f()()).isoWeekYear(),week:e.isoWeek()},{record:n});r((t=a,{type:yn.SAVE_WEEKLY_PRICES,payload:t}))},priceRecord:c}),i.a.createElement(jn,{priceRecord:c}),i.a.createElement(D,null))};function xn(){var n=Object(b.a)(["\npadding: 20px 0 50px 0;\n"]);return xn=function(){return n},n}var Yn=h.a.section(xn());var In=function(n){var e,t,r,a=(null===(e=Object(w.f)("/price/me/:year/:week"))||void 0===e?void 0:e.params)||{},c=a.year,o=a.week,l="".concat(c,"-").concat(o),d=null!==(t=null===(r=Object(u.c)((function(n){return n.weeklyPrices.prices}))[l])||void 0===r?void 0:r.record)&&void 0!==t?t:B;return i.a.createElement(Yn,null,i.a.createElement(jn,{priceRecord:d}))},Mn=t(18);function Bn(){var n=Object(b.a)(["\nposition: absolute;\nz-index: 1;\npadding: 0;\nleft: 0;\ntop: 100%;\nright: auto;\nwidth: max-content;\n\nmargin: 0;\ndisplay: none;\nlist-style: none;\n\n&.active {\n  display: grid;\n  grid-rows: auto;\n  grid-columns: 1fr;\n}\n\na {\n  display: block;\n}\n"]);return Bn=function(){return n},n}function Gn(){var n=Object(b.a)(["\nposition: relative;\n"]);return Gn=function(){return n},n}var Wn=h.a.div(Gn()),Fn=h.a.ul(Bn()),Pn=function(n){Object(fn.a)(t,n);var e=Object(pn.a)(t);function t(n){var r;return Object(j.a)(this,t),(r=e.call(this,n)).state=void 0,r.state={active:!1},r}return Object(O.a)(t,[{key:"render",value:function(){var n=this;return i.a.createElement(Wn,null,this.props.button({onClick:function(){n.setState({active:!n.state.active})},"aria-haspopup":"true","aria-expanded":this.state.active}),i.a.createElement(Fn,{className:"".concat(this.state.active?"active":"")},this.props.children))}}]),t}(i.a.Component);function Dn(){var n=Object(b.a)(["\ndisplay: flex;\nflex: 1 1 auto;\njustify-content: center;\n\nbutton, a {\n  font-family: Arial;\n  font-size: 15px;\n  display: block;\n  padding: 10px 15px;\n  border-radius: 10px;\n  text-decoration: none;\n  font-weight: 700;\n  margin: 5px;\n  border: 2px solid transparent;\n}\n\nbutton, a, a:visited {\n  color: #BCB5A3;\n  border: 2px solid #BCB5A3;\n  background: transparent;\n}\n\n\n",":hover, a:hover {\n  background: #ffbc55;\n  border: 2px solid #fff6c9;\n  color: #614f2d;\n}\n\na.active {\n  color: #FFF6C9;\n  background: #F49809;\n  border: 2px solid transparent;\n}\n"]);return Dn=function(){return n},n}function Tn(){var n=Object(b.a)([""]);return Tn=function(){return n},n}var qn=h.a.button(Tn()),Sn=h.a.nav(Dn(),qn);function Rn(){var n=Object(u.c)((function(n){return n.weeklyPrices.prices})),e=q.a.chain(n).values().sortBy(["year","week"]).reverse().slice(0,6).value(),t=f()();return i.a.createElement(Sn,null,i.a.createElement(Mn.b,{to:"/",exact:!0},"Home"),i.a.createElement(Mn.b,{to:"/price/me"},"My Prices"),i.a.createElement(Pn,{button:function(n){return i.a.createElement(qn,n,"Past Prices")}},e.map((function(n){var e=f()().isoWeek(n.week).year(n.year);return i.a.createElement("li",{key:e.valueOf()},i.a.createElement(Mn.b,{to:"/price/me/".concat(n.year,"/").concat(n.week)},function(n,e){var t=Math.ceil(n.diff(e,"week"));return 0===t?"This week":1===t?"Last week":t<5?"".concat(t," weeks ago"):n.format("YYYY-MM-DD")}(e,t)))}))))}function zn(){var n=Object(b.a)(["\nobject-fit: contain;\nmax-width: 10vw;\n"]);return zn=function(){return n},n}function Xn(){var n=Object(b.a)(["\ndisplay: flex;\nalign-items: center;\npadding: 20px;\n"]);return Xn=function(){return n},n}var Vn=h.a.header(Xn()),Nn=h.a.img(zn());function Ln(){return i.a.createElement(Vn,null,i.a.createElement(Nn,{src:E.a,alt:"logo"}),i.a.createElement(Rn,null))}function Kn(){return i.a.createElement("div",null)}var Hn=function(){return i.a.createElement("div",null,i.a.createElement(Ln,null),i.a.createElement(w.c,null,i.a.createElement(w.a,{exact:!0,path:"/"},i.a.createElement(Kn,null)),i.a.createElement(w.a,{path:"/price/me",component:kn,exact:!0}),i.a.createElement(w.a,{path:"/price/me/:year/:week",component:In})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Jn=t(26),Un={prices:{}};function Qn(n){return"".concat(n.year,"-").concat(n.week)}var Zn=Object(l.combineReducers)({weeklyPrices:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Un,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case yn.LOAD_WEEKLY_PRICES:return Object(g.a)({},n,{prices:q.a.keyBy(e.payload,Qn)});case yn.SAVE_WEEKLY_PRICES:return Object(g.a)({},n,{prices:Object(g.a)({},n.prices,Object(Jn.a)({},Qn(e.payload),e.payload))});default:return n}}}),_n=(t(64),t(17)),$n=t.n(_n),ne=t(29);function ee(n){var e=null;try{e=JSON.parse(n)}catch(t){return console.warn("Stored price is not valid json: ".concat(n)),null}try{return G.sanitize(e)}catch(t){return console.warn("Error deserializing stored price: ".concat(e)),null}}function te(n,e){var t="0".concat(e),r=t.substr(t.length-2);return"prices-".concat(n,"-").concat(r)}var re=$n.a.mark(oe),ae=$n.a.mark(ue),ie=$n.a.mark(le),ce=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;function e(){var e,t=n.getItem("prices-index");try{e=null===t?[]:JSON.parse(t)}catch(r){return console.warn("Index is not valid json: ".concat(t)),new Set}return e instanceof Array?new Set(e.map((function(n){return n.toString()}))):(console.warn("Index corrupted"),new Set)}function t(e){n.setItem("prices-index",JSON.stringify(Array.from(e)))}return{save:function(r){return new Promise((function(a){var i=e(),c=te(r.year,r.week),o=JSON.stringify(r);n.setItem(c,o),console.log("Saved to storage"),t(i.add(c)),console.log("Updated index"),a(void 0)}))},get:function(e,t){return new Promise((function(r){var a=te(e,t),i=n.getItem(a);null!==i&&r(JSON.parse(i))}))},list:function(){return new Promise((function(t,r){var a=e();t(Array.from(a.values()).map((function(e){return n.getItem(e)})).filter((function(n){return null!==n})).map(ee).filter((function(n){return null!==n})))}))}}}();function oe(){var n;return $n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.list();case 2:return n=e.sent,e.next=5,Object(ne.b)((t=n,{type:yn.LOAD_WEEKLY_PRICES,payload:t}));case 5:case"end":return e.stop()}var t}),re)}function ue(){return $n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ne.c)(yn.SAVE_WEEKLY_PRICES,$n.a.mark((function n(e){return $n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ce.save(e.payload);case 2:case"end":return n.stop()}}),n)})));case 2:case"end":return n.stop()}}),ae)}function le(){return $n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ne.a)([oe(),ue()]);case 2:case"end":return n.stop()}}),ie)}f.a.extend(m.a);var de=Object(s.composeWithDevTools)({}),se=Object(d.a)(),pe=Object(l.createStore)(Zn,de(Object(l.applyMiddleware)(se)));se.run(le),o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(u.a,{store:pe},i.a.createElement(Mn.a,null,i.a.createElement(Hn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.b52cba69.chunk.js.map